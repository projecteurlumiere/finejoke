#current-round {
  --timer-font-size: 1rem;

  .task {

    height: 100%;
    padding: 0 var(--task-padding);
    box-sizing: border-box;
    text-align: left;

    display: flex;
    flex-direction: column;
    
    // instead of gap: 1rem;
    .timer-wrapper, {
      margin-bottom: 0;
    }
    > * {
      margin-bottom: 1rem;
    }

    > *:last-child {
      margin-bottom: 0;
    }
    // over

    background-color: var(--white);

    overflow-y: auto;
    :has(.joke.fit.selected) { overflow-y: hidden }
    overflow-x: hidden;

    container-type: size;
    container-name: task;

    * {
      color: var(--black);
    }

    > *:last-child  {
      margin-bottom: var(--task-padding);
    }

    p.setup {
      overflow-wrap: anywhere;
    }
    
    // upper div with h2
    > .description {
      display: flex;
      flex-direction: column;
      padding-left: 1em;
      padding-right: 1em;
      flex: 1;

      // &:has(> div > p:not(.setup)),
      &:has(> div > p:empty) {
        position: sticky;
        top: 0;
        background-color: var(--white);
        z-index: 1;

      }

      * {
        font-family: "Press Start 2P", system-ui;
        text-transform: lowercase;
      }
    }

    > .description:has(+ .jokes-container) {
      flex: 0;
    }

    > .description,
      .jokes-container {
      @container task (min-height: 0) {
        * {
          font-size: clamp(1rem, calc(1.6cqw + 1.6cqh), 1.75rem)
        }

        *.press-font > *,
        *.press-font {
          font-size: clamp(0.75rem, calc(1.6cqw + 1.6cqh), 1.5rem);
        }
      }
      
      > h2 {
        font-size: clamp(1rem, var(--adaptive-font-size), 1.5rem);
        color: var(--red);

        position: sticky;
        background: var(--white);
        margin-bottom: 0;

        padding-top: 1.5em;
      }

      > h2:has(+ *) {
        margin-bottom: inherit;
      }

      // p-wrapper
      > div {
        > p {
          margin-top: 0;
          margin-bottom: 0;
        }
      }
    }

    > .jokes-container {
      display: flex;
      flex-direction: column;
      flex-basis: auto;
      // overflow-y: auto;
      margin-bottom: 0;
      margin-left: 0em;
      margin-right: 0em;
      flex: 1;

      // swipe!

      .swipe {
        overflow: hidden;
        visibility: hidden;
        position: relative;
        height: 100%;
        // height: 100%; // added
      }
      .swipe-wrap {
        overflow: hidden;
        position: relative;
        height: 100%; // added
      }
      .swipe-wrap > div {
        float: left;
        width: 100%;
        height: auto;
        // max-height: min-content;
        // @container task (min-height: 0) {
        //     height: 200px;
        // }
        // max-height: 100%;
        min-height: min-content; // added
        // overflow-y: auto;
        position: relative;
        overflow: hidden;

        &.fit {
          height: var(--visible-height-for-joke); // set via js
        }
      }

      .joke {
        flex-basis: auto;
        display: flex;
        flex-direction: column;
        justify-content: center;
        flex: 1;
        row-gap: 0.5rem;
        margin-left: 0;
        margin-right: 0;

        > * {
          margin-left: 1em;
          margin-right: 1em;
          flex-shrink: 0;
          flex-basis: min-content !important;
        }

        p {
          overflow-wrap: anywhere;
        }

        .setup {
          flex: 1;
          display: flex;
          align-items: last baseline;
          // font-weight: 600;
        }

        .punchline:only-child {
          display: flex;
          align-items: center;
        }

        .punchline {
          flex: 1;
          font-family: "Press Start 2P";
        }

        .user {
          flex: 1;
          flex-grow: 0.5;
          // width: 100%;
          display: flex;
          align-items: first baseline;
          justify-content: space-between;
          margin-bottom: 0.5rem;
        }
      }

      .joke.vote {
        .setup {
          align-items: flex-start;
          flex: 0;
          // font-weight: 500;
        }

        .punchline {
          display: flex;
          align-items: center;
        }
      }

      .buttons {
        display: flex;
        justify-content: space-between;
        color: var(--black);
        overflow: hidden;

        background: var(--white);
        position: sticky;
        bottom: 0;
        padding-bottom: var(--task-padding);
        padding-top: 1rem;
        margin-bottom: 0;
        padding-left: 1em;
        padding-right: 1em;

        svg {
          height: clamp(1rem, var(--adaptive-font-size), 1.75rem);
        }

        > * {
          cursor: pointer;
          path {
            color: var(--black);
          }
        }
      

        > .disabled {
          cursor: unset;

          * { 
            cursor: unset; 
          }

          path {
            color: var(--white-dim);
          }
        }

        .counter {
          display: flex;
          align-items: center;
          gap: 0.75rem;
          @container task (max-width: 300px) { gap: 0.5rem }

          div {
            background-color: var(--black);
            height: 0.5rem;
            width: 0.5rem;
            transition: transform 0.33s, background-color 0.33s;

            &.selected {
              background-color: var(--teal);
              transform: scale(2, 2);
              transition: transform 0.33s, background-color 0.33s;
            }
          }
        }
      }
    }

    form {
      flex: 0 1 33%;
      display: flex;

      textarea {
        border: none;
        min-height: 4ch;
        // width: calc(100% - (var(--task-padding) * 2));
      }
    }

    // @property --progress-value {
    //   syntax: "<integer>";
    //   initial-value: 50;
    //   inherits: false;
    // }

    // @keyframes progress {
    //   to { --progress-value: 75; }
    // }

    .timer-wrapper {
      position: sticky;
      top: 0.5rem;
      z-index: 2;

      .timer {
        position: absolute;
        top: 0;
        right: -0.5rem;
        text-align: right;
        background-color: var(--white);
      }
    }
  }

  .task.rules {
    background-color: var(--red);

    * {
      color: var(--white);
    }
  }

  .action {
    display: flex;
    flex-direction: column;
    gap: 1rem;

    @media(max-height: 550px) {
      gap: 0.5rem;

        // flex-direction: row;
    } 
  }
}